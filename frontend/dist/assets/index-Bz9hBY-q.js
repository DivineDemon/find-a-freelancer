import{w as H,r as a,x as Q,y as W,z as B,j as e,L as b,M as D,C as k,A as O,D as $,E as q,B as o,X as z,G as F,I as g,H as j,J as L}from"./index-q-HLww4P.js";import{B as J,N as V}from"./new-chat-dialog-DSNsVcvb.js";import"./plus-16eEapJD.js";/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],K=H("funnel",X);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],P=H("search",Y),re=function(){const[I,ee]=a.useState(void 0),[m,w]=a.useState(0),[x]=a.useState(50),[h,R]=a.useState(""),[r,f]=a.useState([0,1e3]),[l,N]=a.useState([0,50]),[c,T]=a.useState([]),[d,A]=a.useState([]),[u,E]=a.useState(""),[_,U]=a.useState(!1),{data:C}=Q(),{data:t,isLoading:v,error:G}=W();a.useEffect(()=>{if(t){const s=t;f([s.price_range.min,s.price_range.max]),N([s.experience_range.min,s.experience_range.max])}},[t]);const M=()=>{if(t){const s=t;f([s.price_range.min,s.price_range.max]),N([s.experience_range.min,s.experience_range.max]),T([]),A([]),E(""),R("")}};a.useEffect(()=>{w(0)},[]);const{data:y,isLoading:p}=B({userType:C?.user_type==="client_hunter"?"freelancer":void 0,isActive:I,skip:m*x,limit:x,searchQuery:h||void 0,minHourlyRate:r[0]>0?r[0]:void 0,maxHourlyRate:r[1]<1e3?r[1]:void 0,minExperience:l[0]>0?l[0]:void 0,maxExperience:l[1]<50?l[1]:void 0,skills:c.length>0?c.join(","):void 0,technologies:d.length>0?d.join(","):void 0,workType:u||void 0});if(p&&m===0)return e.jsx("div",{className:"flex h-full w-full items-center justify-center",children:e.jsx(b,{className:"size-20 animate-spin"})});const i=y||[];return e.jsx("div",{className:"flex h-full w-full flex-col items-start justify-start py-5",children:e.jsx(D,{children:e.jsxs("div",{className:"w-full space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"font-bold text-3xl",children:"Discover"}),e.jsx("p",{className:"text-muted-foreground",children:"Find talented freelancers or connect with potential clients"})]})}),e.jsxs(k,{children:[e.jsx(O,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx($,{children:"Search & Filters"}),e.jsx(q,{children:"Find freelancers by skills, experience, and rates"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(o,{variant:"outline",size:"sm",onClick:()=>U(!_),children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),_?"Hide":"Show"," Filters"]}),e.jsxs(o,{variant:"outline",size:"sm",onClick:M,children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),"Reset"]})]})]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"-translate-y-1/2 absolute top-1/2 left-3 h-4 w-4 text-muted-foreground"}),e.jsx(g,{placeholder:"Search by name, title, or skills...",value:h,onChange:s=>R(s.target.value),className:"pl-10"})]}),_&&e.jsxs(e.Fragment,{children:[G&&e.jsx("div",{className:"mb-4 rounded-md border border-destructive/20 bg-destructive/10 p-3",children:e.jsx("p",{className:"text-destructive text-sm",children:"Error loading filter options. Using default values."})}),e.jsxs("div",{className:"space-y-4 border-t pt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{className:"font-medium text-sm",children:"Hourly Rate Range"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{type:"number",placeholder:"Min",value:r[0],onChange:s=>f([Number(s.target.value),r[1]]),className:"w-20"}),e.jsx("span",{className:"text-muted-foreground",children:"-"}),e.jsx(g,{type:"number",placeholder:"Max",value:r[1],onChange:s=>f([r[0],Number(s.target.value)]),className:"w-20"}),e.jsx("span",{className:"text-muted-foreground text-xs",children:"$/hr"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{className:"font-medium text-sm",children:"Experience Range"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{type:"number",placeholder:"Min",value:l[0],onChange:s=>N([Number(s.target.value),l[1]]),className:"w-20"}),e.jsx("span",{className:"text-muted-foreground",children:"-"}),e.jsx(g,{type:"number",placeholder:"Max",value:l[1],onChange:s=>N([l[0],Number(s.target.value)]),className:"w-20"}),e.jsx("span",{className:"text-muted-foreground text-xs",children:"years"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{className:"font-medium text-sm",children:"Work Type"}),e.jsxs("select",{value:u,onChange:s=>E(s.target.value),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",disabled:v,children:[e.jsx("option",{value:"",children:"All Work Types"}),v?e.jsx("option",{disabled:!0,children:"Loading..."}):t&&t.work_types.map(s=>e.jsx("option",{value:s,children:s.charAt(0).toUpperCase()+s.slice(1)},s))]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{className:"font-medium text-sm",children:"Skills"}),e.jsx("div",{className:"flex max-h-32 flex-wrap gap-2 overflow-y-auto",children:v?e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[e.jsx(b,{className:"h-4 w-4 animate-spin"}),"Loading skills..."]}):t&&t.skills.map(s=>e.jsx(L,{variant:c.includes(s)?"default":"outline",className:"cursor-pointer hover:bg-primary/10",onClick:()=>{T(n=>n.includes(s)?n.filter(S=>S!==s):[...n,s])},children:s},s))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{className:"font-medium text-sm",children:"Technologies"}),e.jsx("div",{className:"flex max-h-32 flex-wrap gap-2 overflow-y-auto",children:v?e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[e.jsx(b,{className:"h-4 w-4 animate-spin"}),"Loading technologies..."]}):t&&t.technologies.map(s=>e.jsx(L,{variant:d.includes(s)?"default":"outline",className:"cursor-pointer hover:bg-primary/10",onClick:()=>{A(n=>n.includes(s)?n.filter(S=>S!==s):[...n,s])},children:s},s))})]})]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"font-semibold text-xl",children:"Results"}),!p&&e.jsxs("span",{className:"text-muted-foreground text-sm",children:[i.length," ",i.length===1?"freelancer":"freelancers"," found"]})]}),i.length>0&&e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[e.jsxs("span",{children:["Page ",m+1]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:["Showing ",Math.min(i.length,x)," of ",i.length]})]})]}),i.length===0?e.jsx(k,{children:e.jsxs(F,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(P,{className:"mb-4 h-12 w-12 text-muted-foreground"}),e.jsx("h3",{className:"mb-2 font-semibold text-lg",children:h||c.length>0||d.length>0||u?"No freelancers match your criteria":"No users found"}),e.jsx("p",{className:"text-center text-muted-foreground",children:h||c.length>0||d.length>0||u?"Try adjusting your search criteria or filters to find more freelancers.":"Try adjusting your search criteria or filters."}),(h||c.length>0||d.length>0||u)&&e.jsxs(o,{variant:"outline",onClick:M,className:"mt-4",children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),"Clear All Filters"]})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:i.map(s=>e.jsx(k,{className:`transition-colors ${s.is_active?"cursor-pointer hover:bg-muted/50":"cursor-not-allowed opacity-60"}`,children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:e.jsx(J,{className:"h-6 w-6 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[e.jsxs("h3",{className:"font-semibold",children:[s.first_name," ",s.last_name]}),!s.is_active&&e.jsx(L,{variant:"destructive",className:"text-xs",children:"Inactive"})]}),e.jsx("span",{className:`inline-block rounded-full px-2 py-1 text-xs ${s.user_type==="freelancer"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:s.user_type.replace("_"," ")})]})]}),C?.user_type==="client_hunter"&&localStorage.getItem("has_paid")!=="true"?e.jsx("p",{className:"text-muted-foreground text-sm",children:"Complete payment to view contact details"}):e.jsx("p",{className:"text-muted-foreground text-sm",children:s.email}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-muted-foreground text-xs",children:s.user_type==="freelancer"?"Available for projects":"Can hire freelancers"}),e.jsxs("div",{className:"space-y-2",children:[C?.user_type==="client_hunter"&&s.user_type==="freelancer"&&s.is_active&&e.jsx(V,{user:s}),e.jsx(o,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{s.is_active&&(window.location.href=`/dashboard/freelancer-profile/${s.id}`)},disabled:!s.is_active,children:"View Profile"})]})]})]})})},s.id))}),y&&y.length>=x&&e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx(o,{variant:"outline",size:"sm",onClick:()=>w(s=>Math.max(0,s-1)),disabled:m===0||p,children:"Previous"}),e.jsxs("span",{className:"text-muted-foreground text-sm",children:["Page ",m+1," - Showing ",i.length," users"]}),e.jsx(o,{variant:"outline",size:"sm",onClick:()=>w(s=>s+1),disabled:y.length<x||p,children:"Next"}),p&&e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[e.jsx(b,{className:"h-4 w-4 animate-spin"}),"Loading..."]})]})]})]})]})})})};export{re as component};
